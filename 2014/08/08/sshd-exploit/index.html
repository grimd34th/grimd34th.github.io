<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta name="viewport" content="width=932" >
  <meta name="MobileOptimized" content="932" >
  <meta name="generator" content="D34TH">
  <title>sshd exploit</title>

  <link rel="stylesheet" type="text/css" href="/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="/css/awe.css">
  <link rel="stylesheet" type="text/css" href="/css/social-likes.css">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="/js/imgLiquid-min.js"></script>
  <script src="/js/social-likes.min.js"></script>
</head>

<body>
  <div class="main-container">
    

<div class="box profile">
  <div class="heading" style="background: #3e5354 url(/images/bg-heading.jpg) no-repeat;">
    <div class="profile-img">
      <a href="//grimd34th.github.io/"><img src="/images/img-profile.jpg" width="154" height="150" alt="image description"></a>
    </div>
    <strong class="user"><a href="/">D34TH</a></strong>
    <span class="locate">United States</span>
  </div>
  <div class="setting">
    <a href="//grimd34th.github.io/" class="btn-profile">Profile</a>
    <a href="/" class="btn-photos">Photos</a>
    <a href="/" class="btn-follow">Follow me</a>
  </div>
</div>

    
<div class="two-columns post-page">
  <div class="content">

    <div class="post box nocover">
      <em class="date"><span>08</span>Aug</em>
      <h2 class="post-title"><a href="/2014/08/08/sshd-exploit/">sshd exploit</a></h2>
      <div class="post-content"><p>So a fake sshd claiming to exploit a network check to access memory is going around, offering no proof outside of an easily faked memory dump and a 20 btc fee for the source.</p>
<p>This is located at <a href="http://pastebin.com/gjkivAf3" target="_blank" rel="external">http://pastebin.com/gjkivAf3</a></p>
<p>Lets take a look at how sshd works, so we can better understand why this exploit makes zero sense.</p>
<p>sshd is composed of 4 processes, master, privilaged, preauth, and postauth.</p>
<blockquote>
<p><em>master listens for connections and forks them to privilaged, waiting for the next process.</em></p>
<p><em>privilaged prepares what’s needed to process the connection, then forks it to a sandboxed preauth.</em></p>
<p><em>preauth is where any checks would take place, this is where the exploit would happen and where authentication takes place. Note that as mentioned before it’s a sandboxed process.</em></p>
<p><em>postauth is a fork again, this is what happens when authentication is successful happens and also is where the memorydump the exploit lists comes from.</em></p>
</blockquote>
<p>When a parent forks a child the parent does not normally have access to the childs memory pages, this changes with a lot of malicious work that OpenBSD would not in any situation implement.</p>
<p>This exploit would have to happen in the preauth sandbox, where it somehow manages to do the impossible and break out of a sandbox to access memory from a fork in a way that isn’t actually possible without it existing in OpenBSD itself(It does not).</p>
<p>For this exploit to ever access that memory from the dump it would in turn have to of broken the entire sshd auentication process, rendering the entire SSH authentication protocol broken. Note that SSH uses RSA to encrypt the transport. <a href="http://tools.ietf.org/html/rfc4252" target="_blank" rel="external">http://tools.ietf.org/html/rfc4252</a></p>
<p>If said protocol was broken, a lot of well proven crypto used in things like PGP and TLS would in turn be broken along with it, resulting in something far worse than heartbleed.</p>
<p>And besides, if they had that magical break most of the Internet exploit, why would they stop at sshd?</p>
<h6 id="stqism"><a href="http://blog.unglinux.org/" target="_blank" rel="external">stqism</a></h6>
</div>

      <div class="bottom-panel">
        <ul class="social-likes" data-url="/2014/08/08/sshd-exploit/">
          <li class="facebook" title="like"></li>
          <li class="twitter" title="twitte"></li>
          <li class="plusone" title="google"></li>
        </ul>
      </div>
    </div>
    
  </div>

  <div class="widgetarea">

    
    

<div class="tagcloud" id="fbox-tagcloud" style="margin:10px; display:none; overflow: hidden"></div>

    

    
      

<ul class="widget blogroll">
  <h3 class="title">Recent Post</h3>
  
    
    <li>
      <div class="text-holder">
        <h3 class="link-title"><a href="/2014/08/08/sshd-exploit/">sshd exploit</a></h3>
        <p>So a fake sshd claiming to exploit a network check</p>
      </div>
    </li>
  
    
    <li>
      <div class="text-holder">
        <h3 class="link-title"><a href="/2014/08/08/securing-linux-servers/">Securing Linux Servers</a></h3>
        <p>Introduction
Taking control of your own Linux serv</p>
      </div>
    </li>
  
    
    <li>
      <div class="text-holder">
        <h3 class="link-title"><a href="/2014/08/08/precise-mysql-setup/">How To Setup MySQL on Ubuntu 12.04</a></h3>
        <p>What the italic  Means
The lines that the user nee</p>
      </div>
    </li>
  
    
    <li>
      <div class="text-holder">
        <h3 class="link-title"><a href="/2014/08/08/muh-ssh-keys-doe/">Generating secure (ECDSA) SSH keys for your new install</a></h3>
        <p>Generating a SSH key
An SSH key pair can be genera</p>
      </div>
    </li>
  
    
    <li>
      <div class="text-holder">
        <h3 class="link-title"><a href="/2014/08/08/this-exploit-was-bad-mmmk/">Heartbleed Announcment</a></h3>
        <p>Important SSL Security VulnerabilityOn Monday, Apr</p>
      </div>
    </li>
  
</ul>


    

  </div>
</div>


  </div>
  
<div class="footer">
  <div class="container">
    <a href="//github.com/kywk/hexo-theme-awe">AWE for hexo</a> inspired by <a href="http://goo.gl/H8OMRE">Awesome UI Kit</a>,
    ported by <a href="//kywk.github.io/">MooCow (Aka. kywk)</a>.
    
    &copy; 2014 Trevor Driscoll All Rights Reserved
    
  </div>
</div>

  <!-- disqus -->



<script>
$(document).ready(function() {
  $('.imgLiquid').imgLiquid({fill:true, fadeInTime:500});
});
</script>


<!-- fancybox -->
<link rel="stylesheet" href="/package/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="/package/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<script type="text/javascript">
(function($){
  $(".fancybox").fancybox();
  $(".various").fancybox({
    maxWidth  : 800,
    maxHeight : 600,
    fitToView : false,
    width   : '70%',
    height    : '70%',
    autoSize  : true,
    closeClick  : false,
    openEffect  : 'none',
    closeEffect : 'none'
  });
})(jQuery);
</script>

</body>
</html>
